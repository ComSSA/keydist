{% extends "base.html" %}
{% load bootstrap3 %}

{% block site_title %}Administration Portal{% endblock %}
{% block body_title %}Administration Portal{% endblock %}

{% block content %}
<h2>Create User</h2>
<p>Create a user to allocate keys to. You can also make the user an administrator, which'll
allow them to import and allocate keys themselves.</p>
<form method="post" action="{% url 'accounts:admin-createuser' %}"class="form form-inline">
	{% csrf_token %}
	{% bootstrap_form create_user_form layout='inline' %}
	{% buttons %}
		{% bootstrap_button 'Create User' button_type='submit' %}
	{% endbuttons %}
</form>

<h2>Reset Password</h2>
<p>Reset a user's password and email it to them.</p>
<form action="{% url 'accounts:admin-reset-password' %}" method="post" class="form-inline">
	{% csrf_token %}
	{% bootstrap_form reset_password_form layout='inline' %}
	{% buttons %}
		{% bootstrap_button 'Reset Password' button_type='submit' %}
	{% endbuttons %}
</form>

<h2>Change Password</h2>
<p>You can change any user's password using this form.</p>

<form action="{% url 'accounts:admin-password' %}" method="post" class="form-inline">
	{% csrf_token %}
	{% bootstrap_form password_form layout='inline' %}
	{% buttons %}
		{% bootstrap_button 'Change Password' button_type='submit' %}
	{% endbuttons %}
</form>

<h2>Sync Permissions</h2>
<p>Syncing permissions to harcoded policies. This should only be required when you first install keydist. This will ensure that only the right people can access certain restricted resources.</p>

<a href="{% url 'accounts:permissions-sync' %}" class="btn btn-primary">Sync Permissions</a>

{% endblock %}